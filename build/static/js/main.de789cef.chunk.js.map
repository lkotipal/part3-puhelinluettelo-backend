{"version":3,"sources":["components/Button.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Button","text","onClick","Person","person","onDelete","name","number","Persons","persons","map","key","id","Filter","value","onChange","PersonForm","onSubmit","onNameChange","onNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","error","className","App","useState","setPersons","filter","setFilter","newName","setNewName","newNumber","setNewNumber","notification","setNotification","setError","useEffect","personService","initialPersons","notify","setTimeout","event","target","preventDefault","some","window","confirm","find","changedPerson","returnedPerson","p","catch","status","console","log","newPerson","concat","match","RegExp","toBeDeleted","length","ReactDOM","render","document","getElementById"],"mappings":"+OAQeA,EANA,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAMC,EAAR,EAAQA,QAAR,OACb,4BAAQA,QAASA,GACdD,ICOUE,EARA,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,SAAV,OACX,4BACI,4BAAKD,EAAOE,MACZ,4BAAKF,EAAOG,QACZ,4BAAI,kBAAC,EAAD,CAAQN,KAAK,SAASC,QAASG,OCe5BG,EAnBC,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASJ,EAAX,EAAWA,SAAX,OACZ,+BACI,+BACI,4BACI,oCACA,sCACA,+BAGR,+BACKI,EAAQC,KAAI,SAAAN,GAAM,OAAI,kBAAC,EAAD,CACnBO,IAAKP,EAAOQ,GACZR,OAAQA,EACRC,SAAU,kBAAMA,EAASD,EAAOQ,aCLjCC,EATA,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OACb,gDACoB,2BAChBD,MAAOA,EACPC,SAAUA,MCcDC,EAlBI,SAAC,GAAD,IAAEC,EAAF,EAAEA,SAAUX,EAAZ,EAAYA,KAAMY,EAAlB,EAAkBA,aAAcX,EAAhC,EAAgCA,OAAQY,EAAxC,EAAwCA,eAAxC,OACf,0BAAMF,SAAUA,GACZ,sCACU,2BACFH,MAAOR,EACPS,SAAUG,IAHlB,WAKY,2BACJJ,MAAOP,EACPQ,SAAUI,KAGlB,6BACI,4BAAQC,KAAK,UAAb,U,gBCdNC,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACd,GAEd,OADgBU,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BT,IAC5BY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACd,EAAIe,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBT,GAAMe,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCN5BK,EAZM,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,MAC9B,OAAgB,OAAZD,EACK,KAIP,yBAAKE,UAAWD,EAAQ,QAAU,WAC/BD,ICwHQG,EA1HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT3B,EADS,KACA4B,EADA,OAEYD,mBAAS,IAFrB,mBAETE,EAFS,KAEDC,EAFC,OAGcH,mBAAS,IAHvB,mBAGTI,EAHS,KAGAC,EAHA,OAIkBL,mBAAS,IAJ3B,mBAITM,EAJS,KAIEC,EAJF,OAKwBP,mBAAS,MALjC,mBAKTQ,EALS,KAKKC,EALL,OAMUT,oBAAS,GANnB,mBAMTH,EANS,KAMFa,EANE,KAQhBC,qBAAU,WACRC,IAEGxB,MAAK,SAAAyB,GACJZ,EAAWY,QAEd,IAEH,IAYMC,EAAS,SAAClB,EAASC,GACvBY,EAAgBb,GAChBc,EAASb,GACTkB,YAAW,WACTN,EAAgB,QACf,MAmEL,OACE,6BACE,yCACA,kBAAC,EAAD,CAAQ/B,MAAOwB,EAAQvB,SAvFA,SAACqC,GAC1Bb,EAAUa,EAAMC,OAAOvC,UAuFrB,+CACA,kBAAC,EAAD,CAAYG,SAjDE,SAACmC,GAEjB,GADAA,EAAME,iBACF7C,EAAQ8C,MAAK,SAAAnD,GAAM,OAAIA,EAAOE,OAASkC,MACzC,GAAIgB,OAAOC,QAAP,oBAA4BjB,EAA5B,MAAyC,CAC3C,IAAMpC,EAASK,EAAQiD,MAAK,SAAAtD,GAAM,OAAIA,EAAOE,OAASkC,KAChD5B,EAAKR,EAAOQ,GACZ+C,EAAa,eACdvD,EADc,CAEjBG,OAAQmC,IAGVM,EACUpC,EAAI+C,GACTnC,MAAK,SAAAoC,GACJvB,EAAW5B,EAAQC,KAAI,SAAAmD,GAAC,OAAIA,EAAEjD,KAAOA,EAAKgD,EAAiBC,MAC3DX,EAAO,GAAD,OAAI9C,EAAOE,KAAX,cAA4B,MACjCwD,OAAM,SAAC7B,GACqB,MAA1BA,EAAMR,SAASsC,QAChB1B,EAAW5B,EAAQ6B,QAAO,SAAAlC,GAAM,OAAIA,EAAOQ,KAAOA,MAEpDoD,QAAQC,IAAIhC,EAAMR,SAASC,MAC3BwB,EAAOjB,EAAMR,SAASC,KAAKO,OAAO,WAGrC,CACL,IAAMiC,EAAY,CAChB5D,KAAMkC,EACNjC,OAAQmC,GAGVM,EACUkB,GACP1C,MAAK,SAAAC,GACJY,EAAW5B,EAAQ0D,OAAO1C,IAC1BgB,EAAW,IACXE,EAAa,IACbO,EAAO,GAAD,OAAIgB,EAAU5D,KAAd,YAA6B,MAClCwD,OAAM,SAAC7B,GACR+B,QAAQC,IAAIhC,EAAMR,SAASC,MAC3BwB,EAAOjB,EAAMR,SAASC,KAAKO,OAAO,QAWpC3B,KAAMkC,EACNtB,aAvFmB,SAACkC,GACxBX,EAAWW,EAAMC,OAAOvC,QAuFpBP,OAAQmC,EACRvB,eArFqB,SAACiC,GAC1BT,EAAaS,EAAMC,OAAOvC,UAsFxB,uCACA,kBAAC,EAAD,CACEL,QAASA,EAAQ6B,QAAO,SAAAlC,GAAM,OAAIA,EAAOE,KAAK8D,MAAM,IAAIC,OAAO/B,EAAQ,SACvEjC,SA9Ee,SAACO,GACpB,IAAM0D,EAAc7D,EAAQ6B,QAAO,SAAAlC,GAAM,OAAIA,EAAOQ,KAAOA,KAChC,IAAvB0D,EAAYC,QACXf,OAAOC,QAAP,iBAAyBa,EAAY,GAAGhE,KAAxC,OACD0C,EACUpC,GACPY,MAAK,SAAAC,GACJY,EAAW5B,EAAQ6B,QAAO,SAAAlC,GAAM,OAAIA,EAAOQ,KAAOA,MAClDsC,EAAO,GAAD,OAAIoB,EAAY,GAAGhE,KAAnB,cAAoC,MACzCwD,OAAM,SAAC7B,GACqB,MAA1BA,EAAMR,SAASsC,QAA4C,MAA1B9B,EAAMR,SAASsC,QACjD1B,EAAW5B,EAAQ6B,QAAO,SAAAlC,GAAM,OAAIA,EAAOQ,KAAOA,MAEpDoD,QAAQC,IAAIhC,EAAMR,SAASC,MAC3BwB,EAAOjB,EAAMR,SAASC,KAAKO,OAAO,SAkExC,kBAAC,EAAD,CAAcD,QAASY,EAAcX,MAAOA,MCtHlDuC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.de789cef.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Button = ({text, onClick}) => (\r\n  <button onClick={onClick}>\r\n    {text}\r\n  </button>\r\n)\r\n\r\nexport default Button","import React from 'react'\r\nimport Button from './Button'\r\n\r\nconst Person = ({person, onDelete}) => (\r\n    <tr>\r\n        <td>{person.name}</td>\r\n        <td>{person.number}</td>\r\n        <td><Button text='delete' onClick={onDelete}/></td>\r\n    </tr>\r\n)\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, onDelete}) => (\r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Number</th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {persons.map(person => <Person \r\n                key={person.id} \r\n                person={person}\r\n                onDelete={() => onDelete(person.id)}\r\n            />)}\r\n        </tbody>\r\n    </table>\r\n)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => (\r\n  <p>\r\n    Filter shown with <input\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  </p>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, name, onNameChange, number, onNumberChange}) => (\r\n    <form onSubmit={onSubmit}>\r\n        <div>\r\n            name: <input \r\n                value={name} \r\n                onChange={onNameChange}\r\n            />\r\n            number: <input \r\n                value={number} \r\n                onChange={onNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React from 'react'\r\n\r\nconst Notification = ({message, error}) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={error ? \"error\" : \"success\"}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const notify = (message, error) => {\n    setNotification(message)\n    setError(error)\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const handleDelete = (id) => {\n    const toBeDeleted = persons.filter(person => person.id === id)\n    if (toBeDeleted.length === 1) {\n      if(window.confirm(`Delete ${toBeDeleted[0].name}?`)) {\n        personService\n          .remove(id)\n          .then(response => {\n            setPersons(persons.filter(person => person.id !== id))\n            notify(`${toBeDeleted[0].name} removed!`, false)\n          }).catch((error) => {\n            if(error.response.status === 404 || error.response.status === 400) {\n              setPersons(persons.filter(person => person.id !== id))\n            }\n            console.log(error.response.data)\n            notify(error.response.data.error, true)\n          })\n      }\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`Overwrite ${newName}?`)) {\n        const person = persons.find(person => person.name === newName)\n        const id = person.id\n        const changedPerson = {\n          ...person,\n          number: newNumber\n        }\n\n        personService\n          .update(id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(persons.map(p => p.id === id ? returnedPerson : p))\n              notify(`${person.name} updated!`, false)\n            }).catch((error) => {\n              if(error.response.status === 404) {\n                setPersons(persons.filter(person => person.id !== id))\n              }\n              console.log(error.response.data)\n              notify(error.response.data.error, true)\n            })\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNewName('')\n          setNewNumber('')\n          notify(`${newPerson.name} added!`, false)\n        }).catch((error) => {\n          console.log(error.response.data)\n          notify(error.response.data.error, true)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h3>Add new contact</h3>\n      <PersonForm onSubmit={addPerson}\n        name={newName}\n        onNameChange={handleNameChange}\n        number={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons.filter(person => person.name.match(new RegExp(filter, 'i')))}\n        onDelete={handleDelete}\n      />\n      <Notification message={notification} error={error}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}